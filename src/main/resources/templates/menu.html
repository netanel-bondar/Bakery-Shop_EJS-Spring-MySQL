<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Menu</title>
    <style>
        .menu-section {
            margin-bottom: 20px;
        }
        .menu-section h2 {
            color: #00aaff;
        }
        .menu-item {
            margin-bottom: 10px;
        }
        .menu-item span {
            display: inline-block;
            width: 200px;
        }
        .menu-item button {
            background-color: #ffaa00;
            color: white;
            border: none;
            padding: 5px 10px;
            cursor: pointer;
        }
        .menu-item button:hover {
            background-color: #cc8800;
        }
        .checkout-button {
            margin-top: 20px;
            background-color: #00aaff;
            color: white;
            border: none;
            padding: 10px 20px;
            cursor: pointer;
        }
        .checkout-button:hover {
            background-color: #0088cc;
        }
    </style>
</head>
<body>
<div class="menu-section">
    <h2>Pastries</h2>
    <div class="menu-item" th:each="food : ${pastries}">
        <span th:text="${food.name}"></span> - <span th:text="${food.price}"></span>
        <button th:attr="data-id=${food.id}" th:onClick="addToCart(this)">Add to cart</button>
    </div>
</div>
<div class="menu-section">
    <h2>Breakfast</h2>
    <div class="menu-item" th:each="food : ${breakfast}">
        <span th:text="${food.name}"></span> - <span th:text="${food.price}"></span>
        <button th:attr="data-id=${food.id}" th:onClick="addToCart(this)">Add to cart</button>
    </div>
</div>
<div class="menu-section">
    <h2>Cakes</h2>
    <div class="menu-item" th:each="food : ${cakes}">
        <span th:text="${food.name}"></span> - <span th:text="${food.price}"></span>
        <button th:attr="data-id=${food.id}" th:onClick="addToCart(this)">Add to cart</button>
    </div>
</div>
<div class="menu-section">
    <h2>Desserts</h2>
    <div class="menu-item" th:each="food : ${desserts}">
        <span th:text="${food.name}"></span> - <span th:text="${food.price}"></span>
        <button th:attr="data-id=${food.id}" th:onClick="addToCart(this)">Add to cart</button>
    </div>
</div>
<div>
    <button class="checkout-button" onclick="location.href='/checkout'">Go to Checkout</button>
</div>

<script>
    function addToCart(button) {
        const foodId = button.getAttribute('data-id');
        fetch(`/add-to-cart/${foodId}`, {
            method: 'POST'
        }).then(response => {
            if (!response.ok) {
                alert('Failed to add item to cart');
            }
        });
    }
</script>
</body>
</html>
